<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>הגדרות מבחן אמריקאי</title>

    <!-- עיצוב -->
    <link rel="stylesheet" href="css/base.css" />
    <link rel="stylesheet" href="css/exam-settings.css" />

    <style>
      /* ✨ אפקט כניסה חלק לכותרת */
      .page-title {
        opacity: 0;
        transform: translateY(-10px);
        transition: opacity 0.6s ease, transform 0.6s ease;
      }
      .page-title.visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* קו זוהר מתחת לכותרת */
      .page-title::after {
        content: "";
        display: block;
        width: 60px;
        height: 3px;
        margin: 10px auto 0;
        background: linear-gradient(90deg, #00c6ff, #00e0ff);
        border-radius: 2px;
        box-shadow: 0 0 10px rgba(0, 200, 255, 0.5);
      }
      /* כותרת המשנה ("הגדרות לשאלון אמריקאי") */
      .subtitle {
        font-size: 28px;
        color: #aee8ff;
        margin-top: 60px; /* ↓ מוסיף רווח מלמעלה כך שתהיה מיושרת עם שאר האלמנטים */
        margin-bottom: 40px;
        text-align: center;
        text-shadow: 0 0 10px rgba(0, 220, 255, 0.4);
      }

      /* ✨ תוספת חדשה — שם הנושא הנבחר */
      .subject-highlight {
        display: block;
        font-size: 50px;
        font-weight: 800;
        color: #4ec8ff;
        text-shadow: 0 0 16px rgba(80, 200, 255, 0.5);
        margin-top: 10px;
      }

      /* ✨ רווח ברור בין הכותרת לבין החלק הבא */
      .title-wrap {
        margin-bottom: 60px; /* אפשר לשחק עם המספר - 60 זה נראה מושלם */
      }

      .subject-label {
        font-size: 20px;
        color: #b7dfff;
        margin-bottom: -10px;
      }
    </style>
  </head>

  <body>
    <!-- סרגל עליון -->
    <div class="top-bar">
      <button class="nav-btn" id="prev-page">⟵ לעמוד הקודם</button>
      <div class="title-wrap">
        <p class="subject-label">הנושא הנבחר</p>
        <h1 class="page-title" id="pageTitle">—</h1>
      </div>
      <button class="nav-btn" id="home-page">לעמוד הבית ⟶</button>
    </div>

    <!-- תוכן ראשי -->
    <div class="settings-container">
      <h2 class="subtitle">הגדרות לשאלון אמריקאי</h2>

      <div class="settings-grid">
        <button class="setting-btn" id="time-btn">
          הגדר זמן לשאלה<br /><span id="time-value">30 שניות</span>
        </button>
        <button class="setting-btn" id="questions-btn">
          הגדר מספר שאלות<br /><span id="questions-value">20 שאלות</span>
        </button>
        <button class="setting-btn" id="fails-btn">
          הגדר מספר פסילות<br /><span id="fails-value">עד 5 פסילות</span>
        </button>
      </div>

      <button id="start-btn" class="start-btn">התחל מבחן !</button>
    </div>

    <!-- חלון קלט -->
    <div class="modal" id="modal">
      <div class="modal-content">
        <h3 id="modal-title"></h3>
        <input type="number" id="modal-input" />
        <div class="modal-actions">
          <button id="save-btn" class="primary">שמור</button>
          <button id="cancel-btn">בטל</button>
        </div>
      </div>
    </div>

    <!-- סקריפטים -->
    <script src="data/exam-bank.js"></script>
    <script src="js/exam-settings.js"></script>

    <!-- הצגת הנושא הנבחר -->
    <script>
      const SUBJECT_TITLES = {
        anatomy: "אנטומיה",
        chemistry: "כימיה",
        psychology: "פסיכולוגיה",
        literacy: "אוריינות שפתית",
        basketball: "יסודות בכדורסל",
        athletics: "יסודות באתלטיקה",
        statistics: "סטטיסטיקה",
        football: "יסודות בכדורגל",
        physics: "פיזיקה",
      };

      window.addEventListener("load", () => {
        // קבלת הנושא מה-URL
        const params = new URLSearchParams(window.location.search);
        let subjectKey = params.get("subject") || "";
        subjectKey = subjectKey.trim().toLowerCase();

        // מיפוי שם בעברית
        const subjectLabel = SUBJECT_TITLES[subjectKey] || "נושא לא מוגדר";

        // הצגת הכותרת
        const titleEl = document.getElementById("pageTitle");
        if (titleEl) {
          titleEl.textContent = subjectLabel;
          titleEl.classList.add("subject-highlight");
          setTimeout(() => titleEl.classList.add("visible"), 150);
        }

        // ניווט עליון
        document.getElementById("prev-page").addEventListener("click", () => {
          window.history.back();
        });
        document.getElementById("home-page").addEventListener("click", () => {
          window.location.href = "index.html";
        });
      });
    </script>
  </body>
</html>
