<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>בחר שיטת תרגול</title>

    <!-- ✅ קישורים נכונים ל־CSS -->
    <link rel="stylesheet" href="css/base.css" />
    <link rel="stylesheet" href="css/method.css?v=2" />
  </head>

  <body>
    <main class="wrap method-wrap">
      <div class="glow glow-a"></div>
      <div class="glow glow-b"></div>

      <button class="back-btn" type="button" aria-label="לעמוד הקודם">
        <span class="back-icon" aria-hidden="true">◀</span>
        <span>לעמוד הקודם</span>
      </button>

      <header class="hero method-hero">
        <div class="method-emoji" aria-hidden="true">🗣️</div>
        <h1>בחר שיטת תרגול</h1>
        <p class="chosen-subject" id="chosenSubject"></p>
      </header>

      <section class="method-grid" aria-label="שיטות תרגול">
        <button class="method-card" data-method="quiz" id="quizBtn">
          <div class="method-title">מבחן שאלות אמריקאיות</div>
        </button>

        <button class="method-card" data-method="show" id="showBtn">
          <div class="method-title">הצגת שאלות תשובות</div>
        </button>
      </section>
    </main>

    <script>
      // 🧠 קריאה מהנושא שנשמר בדף הקודם
      const chosenSubject =
        localStorage.getItem("selectedSubjectLabel") || "נושא לא מוגדר";
      const subjectKey = localStorage.getItem("selectedSubjectKey") || "";

      // מציג את הנושא בכותרת
      document.getElementById(
        "chosenSubject"
      ).textContent = `נושא נבחר: ${chosenSubject}`;

      // מעבר למסכי תרגול
      const quizBtn = document.getElementById("quizBtn");
      const showBtn = document.getElementById("showBtn");

      quizBtn.addEventListener("click", () => {
        // מעבר לעמוד ההגדרות של המבחן
        window.location.href = `exam-settings.html?subject=${encodeURIComponent(
          chosenSubject
        )}&key=${subjectKey}`;
      });

      showBtn.addEventListener("click", () => {
        // מעבר לעמוד הצגת שאלות ותשובות
        window.location.href = `practice.html?mode=review&subject=${encodeURIComponent(
          chosenSubject
        )}&key=${subjectKey}`;
      });

      // כפתור חזרה
      document.querySelector(".back-btn").addEventListener("click", () => {
        window.history.back();
      });
    </script>
  </body>
</html>
