<!DOCTYPE html>
<html lang="he" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, viewport-fit=cover"
    />
    <title>×‘×—×¨ ×©×™×˜×ª ×ª×¨×’×•×œ</title>

    <!-- âœ… ×§×™×©×•×¨×™× × ×›×•× ×™× ×œÖ¾CSS -->
    <link rel="stylesheet" href="css/base.css" />
    <link rel="stylesheet" href="css/method.css?v=2" />

    <style>
      /* âœ¨ ××¤×§×˜ ×›× ×™×¡×” ×•×™×¦×™××” ×—×œ×§ */
      body {
        opacity: 0;
        transition: opacity 0.4s ease;
      }
      body.fade-in {
        opacity: 1;
      }
      body.fade-out {
        opacity: 0;
      }
    </style>
  </head>

  <body>
    <main class="wrap method-wrap">
      <div class="glow glow-a"></div>
      <div class="glow glow-b"></div>

      <button class="back-btn" type="button" aria-label="×œ×¢××•×“ ×”×§×•×“×">
        <span class="back-icon" aria-hidden="true">â—€</span>
        <span>×œ×¢××•×“ ×”×§×•×“×</span>
      </button>

      <header class="hero method-hero">
        <div class="method-emoji" aria-hidden="true">ğŸ—£ï¸</div>
        <h1>×‘×—×¨ ×©×™×˜×ª ×ª×¨×’×•×œ</h1>
        <p class="chosen-subject" id="chosenSubject"></p>
      </header>

      <section class="method-grid" aria-label="×©×™×˜×•×ª ×ª×¨×’×•×œ">
        <button class="method-card" data-method="quiz" id="quizBtn">
          <div class="method-title">××‘×—×Ÿ ×©××œ×•×ª ×××¨×™×§××™×•×ª</div>
        </button>

        <button class="method-card" data-method="show" id="showBtn">
          <div class="method-title">×”×¦×’×ª ×©××œ×•×ª ×ª×©×•×‘×•×ª</div>
        </button>
      </section>
    </main>

    <script>
      // âœ¨ ××¤×§×˜ ×›× ×™×¡×” ×—×œ×§ ×œ×“×£
      window.addEventListener("DOMContentLoaded", () => {
        document.body.classList.add("fade-in");
      });

      // ğŸ§  ×§×¨×™××” ××”× ×•×©× ×©× ×©××¨ ×‘×“×£ ×”×§×•×“×
      const chosenSubject =
        localStorage.getItem("selectedSubjectLabel") || "× ×•×©× ×œ× ××•×’×“×¨";
      const subjectKey = localStorage.getItem("selectedSubjectKey") || "";

      // ××¦×™×’ ××ª ×”× ×•×©× ×‘×›×•×ª×¨×ª
      document.getElementById(
        "chosenSubject"
      ).textContent = `× ×•×©× × ×‘×—×¨: ${chosenSubject}`;

      // ××¢×‘×¨ ×œ××¡×›×™ ×ª×¨×’×•×œ
      const quizBtn = document.getElementById("quizBtn");
      const showBtn = document.getElementById("showBtn");

      quizBtn.addEventListener("click", () => {
        // ××¤×§×˜ ××¢×‘×¨ ×—×œ×§
        document.body.classList.remove("fade-in");
        document.body.classList.add("fade-out");
        setTimeout(() => {
          // ××¢×‘×¨ ×œ×¢××•×“ ×”×”×’×“×¨×•×ª ×©×œ ×”××‘×—×Ÿ
          window.location.href = `exam-settings.html?subject=${encodeURIComponent(
            subjectKey
          )}`;
        }, 400);
      });

      showBtn.addEventListener("click", () => {
        // ××¤×§×˜ ××¢×‘×¨ ×—×œ×§
        document.body.classList.remove("fade-in");
        document.body.classList.add("fade-out");
        setTimeout(() => {
          // âœ… ××¢×‘×¨ ×œ×¢××•×“ ×”×”×’×“×¨×•×ª ×©×œ ×©××œ×•×ª-×ª×©×•×‘×•×ª
          window.location.href = `qa-settings.html?subject=${encodeURIComponent(
            subjectKey
          )}`;
        }, 400);
      });

      // ×›×¤×ª×•×¨ ×—×–×¨×” ×¢× ××¤×§×˜ ×™×¦×™××”
      document.querySelector(".back-btn").addEventListener("click", () => {
        document.body.classList.remove("fade-in");
        document.body.classList.add("fade-out");
        setTimeout(() => {
          window.history.back();
        }, 400);
      });
    </script>
  </body>
</html>
